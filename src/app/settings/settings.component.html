<ActionBar class="action-bar">
  <NavigationButton visibility="hidden"></NavigationButton>
  <GridLayout columns="50, *">
    <Label class="action-bar-title" text="系統設定" colSpan="2"></Label>
    <Label class="fas" text="&#xf0c9;" (tap)="onDrawerButtonTap()"></Label>
  </GridLayout>
</ActionBar>

<GridLayout class="page__content bg-purple" rows="auto, *">
    
    <ScrollView row="1">
        <StackLayout class="p-20">
            <!-- Contentful Configuration Section -->
            <Label text="Contentful 設定" class="h2 font-weight-bold text-white m-b-15"></Label>
            <StackLayout class="card bg-purple-light p-15 m-b-20">
                <Label text="Space ID" class="label text-white m-b-5"></Label>
                <TextField [(ngModel)]="contentfulSpaceId" hint="Enter Space ID" class="input p-10 m-b-15 bg-white-trans"></TextField>
                
                <Label text="Access Token (Content Delivery API)" class="label text-white m-b-5"></Label>
                <TextField [(ngModel)]="contentfulAccessToken" hint="Enter Access Token" class="input p-10 m-b-15 bg-white-trans" secure="true"></TextField>
                
                <Label text="Management Token (CMA - 用於寫入)" class="label text-white m-b-5"></Label>
                <TextField [(ngModel)]="contentfulManagementToken" hint="Enter Management Token" class="input p-10 m-b-15 bg-white-trans" secure="true"></TextField>

                <GridLayout columns="*, auto" class="m-t-10">
                    <Button col="0" text="儲存設定" (tap)="onSaveContentful()" class="btn btn-primary bg-red text-white font-weight-bold m-r-10" height="50"></Button>
                    <Button col="1" text="測試 Token 權限" (tap)="onTestToken()" class="btn btn-outline bg-white text-black font-weight-bold" height="50"></Button>
                </GridLayout>
            </StackLayout>
            
            <!-- System Status Section -->
            <Label text="系統狀態" class="h2 font-weight-bold text-white m-b-15"></Label>
            <StackLayout class="card bg-purple-light p-15 m-b-20">
                <GridLayout columns="*, auto" class="m-b-10">
                    <Label text="上次同步時間" class="body text-white"></Label>
                    <Label [text]="lastSyncTime" class="body text-white-50" col="1"></Label>
                </GridLayout>
                <GridLayout columns="*, auto" class="m-b-10">
                    <Label text="應用程式版本" class="body text-white"></Label>
                    <Label [text]="appVersion" class="body text-white-50" col="1"></Label>
                </GridLayout>
                 <GridLayout columns="*, auto" class="m-b-10">
                    <Label text="目前資料筆數" class="body text-white"></Label>
                    <Label text="42" class="body text-white-50" col="1"></Label>
                </GridLayout>
                
                <Button text="立即同步" (tap)="onSyncNow()" class="btn btn-outline text-white m-t-10" height="50"></Button>
            </StackLayout>
            
             <!-- Data Management Section -->
            <Label text="資料管理" class="h2 font-weight-bold text-white m-b-15"></Label>
            <StackLayout class="card bg-purple-light p-15 m-b-20">
                 <Button text="清除所有快取" (tap)="onResetData()" class="btn btn-outline text-white m-b-10" height="50"></Button>
                 <Button text="重置應用程式" class="btn btn-danger bg-red text-white" height="50"></Button>
            </StackLayout>

        </StackLayout>
    </ScrollView>
</GridLayout>
