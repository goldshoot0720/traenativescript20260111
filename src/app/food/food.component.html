<!-- Main Layout with Sidebar -->
<GridLayout columns="250, *" height="100%" width="100%" class="main-container">
    <!-- Left Sidebar -->
    <StackLayout col="0" class="sidebar">
        <!-- App Header -->
        <GridLayout columns="auto, *" class="app-header">
            <Label col="0" text="ðŸŽ" class="app-icon"></Label>
            <Label col="1" text="é®®å…ƒAIç³»çµ±" class="app-title"></Label>
        </GridLayout>
        
        <!-- Navigation Menu -->
        <StackLayout class="nav-menu">
            <Button text="ðŸ“Š é¦–é " class="nav-item"></Button>
            <Button text="ðŸ›’ é£Ÿå“ç®¡ç†" class="nav-item active"></Button>
            <Button text="ðŸ“¦ åº«å­˜ç®¡ç†" class="nav-item"></Button>
            <Button text="ðŸª è¨‚è¡Œæ¥­ç®¡ç†" class="nav-item"></Button>
            <Button text="ðŸ“‹ è¨‚è¡Œæ¥­è¨˜éŒ„" class="nav-item"></Button>
            <Button text="ðŸ“Š éŠ·å”®ç®¡ç†" class="nav-item"></Button>
            <Button text="ðŸª é£Ÿå“ç®¡ç†" class="nav-item"></Button>
            <Button text="ðŸ“ˆ çµ±è¨ˆåˆ†æž" class="nav-item"></Button>
        </StackLayout>
    </StackLayout>
    
    <!-- Main Content Area -->
    <GridLayout col="1" rows="auto, *" class="main-content">
        <!-- Top Header -->
        <GridLayout row="0" columns="*, auto" class="content-header">
            <Label col="0" text="é£Ÿå“ç®¡ç†" class="page-title"></Label>
            <Button col="1" text="ðŸ”„ åŒæ­¥" (tap)="onSync()" class="sync-btn"></Button>
        </GridLayout>
        
        <!-- Content Body -->
        <GridLayout row="1" columns="2*, *" class="content-body">
            <!-- Left: Food List -->
            <StackLayout col="0" class="food-list-section">
                <!-- Tab Header -->
                <GridLayout columns="auto, auto" class="tab-header">
                    <Button col="0" text="é£Ÿå“æ¸…å–®" class="tab-btn active" (tap)="setActiveTab('list')"></Button>
                    <Button col="1" text="åŒæ­¥" class="tab-btn" (tap)="setActiveTab('sync')"></Button>
                </GridLayout>
                
                <!-- Food Items List -->
                <ScrollView class="food-list-container">
                    <StackLayout class="food-items">
                        <GridLayout *ngFor="let item of foodItems" columns="auto, *, auto" class="food-item">
                            <!-- Product Image -->
                            <StackLayout col="0" class="product-image">
                                <Image [src]="item.image" stretch="aspectFill" *ngIf="item.image" class="product-img"></Image>
                                <Label text="ðŸ“¦" class="placeholder-icon" *ngIf="!item.image"></Label>
                            </StackLayout>
                            
                            <!-- Product Details -->
                            <StackLayout col="1" class="product-details">
                                <Label [text]="item.name" class="product-name" textWrap="true"></Label>
                                <GridLayout columns="auto, auto" class="product-meta">
                                    <Label col="0" [text]="'æ•¸é‡: ' + item.amount" class="meta-text"></Label>
                                    <Label col="1" [text]="'åƒ¹æ ¼: $' + item.price" class="meta-text price" *ngIf="item.price > 0"></Label>
                                </GridLayout>
                                <Label [text]="'åˆ°æœŸæ—¥: ' + item.expiryDate" class="expiry-date"></Label>
                            </StackLayout>
                            
                            <!-- Action Button -->
                            <StackLayout col="2" class="action-btn-container">
                                <Button text="ðŸ—‘ï¸" (tap)="onDelete(item)" class="delete-btn"></Button>
                            </StackLayout>
                        </GridLayout>
                    </StackLayout>
                </ScrollView>
            </StackLayout>
            
            <!-- Right: Add New Food Form -->
            <StackLayout col="1" class="add-food-section">
                <Label text="æ–°å¢žé£Ÿå“" class="section-title"></Label>
                
                <ScrollView class="form-container">
                    <StackLayout class="form-content">
                        <!-- Name Field -->
                        <StackLayout class="form-group">
                            <Label text="åç¨± (Name)" class="form-label"></Label>
                            <TextField [(ngModel)]="newName" hint="" class="form-input"></TextField>
                        </StackLayout>
                        
                        <!-- Amount and Price Row -->
                        <GridLayout columns="*, 10, *" class="form-group">
                            <StackLayout col="0">
                                <Label text="æ•¸é‡ (Amount)" class="form-label"></Label>
                                <TextField [(ngModel)]="newAmount" keyboardType="number" hint="" class="form-input"></TextField>
                            </StackLayout>
                            
                            <StackLayout col="2">
                                <Label text="åƒ¹æ ¼ (Price)" class="form-label"></Label>
                                <TextField [(ngModel)]="newPrice" keyboardType="number" hint="NT$0" class="form-input"></TextField>
                            </StackLayout>
                        </GridLayout>
                        
                        <!-- Expiry Date -->
                        <StackLayout class="form-group">
                            <Label text="åˆ°æœŸæ—¥æœŸ (To Date)" class="form-label"></Label>
                            <GridLayout columns="*, 5, *, 5, *" class="date-inputs">
                                <TextField col="0" [(ngModel)]="newDateYear" keyboardType="number" hint="2026" class="form-input date-input"></TextField>
                                <TextField col="2" [(ngModel)]="newDateMonth" keyboardType="number" hint="1" class="form-input date-input"></TextField>
                                <TextField col="4" [(ngModel)]="newDateDay" keyboardType="number" hint="12" class="form-input date-input"></TextField>
                            </GridLayout>
                        </StackLayout>
                        
                        <!-- Shop Field -->
                        <StackLayout class="form-group">
                            <Label text="å•†åº— (Shop)" class="form-label"></Label>
                            <TextField [(ngModel)]="newShop" hint="" class="form-input"></TextField>
                        </StackLayout>
                        
                        <!-- Photo Field -->
                        <StackLayout class="form-group">
                            <Label text="åœ–ç‰‡ (Photo)" class="form-label"></Label>
                            <Button text="ðŸ“· é¸æ“‡åœ–ç‰‡" (tap)="onSelectPhoto()" class="photo-btn"></Button>
                        </StackLayout>
                        
                        <!-- Hash Field -->
                        <StackLayout class="form-group">
                            <Label text="Hash" class="form-label"></Label>
                            <TextField [(ngModel)]="newHash" hint="" class="form-input hash-input"></TextField>
                        </StackLayout>
                        
                        <!-- Add Button -->
                        <Button text="æ–°å¢ž é£Ÿå“" (tap)="onAdd()" class="add-btn"></Button>
                    </StackLayout>
                </ScrollView>
            </StackLayout>
        </GridLayout>
    </GridLayout>
</GridLayout>