<GridLayout rows="*" height="100%" width="100%" class="bg-purple">
    <TabView height="100%" width="100%" selectedIndex="0" androidTabsPosition="bottom" selectedTabTextColor="#00E676" tabBackgroundColor="#6200EE" selectedTabBackgroundColor="#6200EE" tabTextColor="#ffffff">
        <TabViewItem title="é£Ÿå“æ¸…å–®">
            <GridLayout rows="auto, *" height="100%" width="100%">
                <!-- Header -->
                <GridLayout row="0" columns="*, auto" class="p-15 m-b-10 bg-primary">
                    <Label col="0" text="é£Ÿå“ç®¡ç†" class="h1 text-white font-weight-bold"></Label>
                    <Button col="1" text="ðŸ”„ åŒæ­¥" (tap)="onSync()" class="btn btn-sm btn-outline text-white" height="40"></Button>
                </GridLayout>
                
                <!-- Food List -->
                <ListView row="1" [items]="foodItems" class="list-group" separatorColor="transparent">
                    <ng-template let-item="item">
                        <GridLayout columns="auto, *, auto" class="list-group-item bg-white m-x-15 m-b-12 p-15" style="border-radius: 12;">
                            <!-- Product Image -->
                            <StackLayout col="0" width="70" height="70" class="m-r-15 bg-grey-light" verticalAlignment="center" style="border-radius: 8;">
                                <Image [src]="item.image" stretch="aspectFill" *ngIf="item.image" class="w-full h-full" style="border-radius: 8;"></Image>
                                <Label text="ðŸ“¦" class="text-center text-grey" *ngIf="!item.image"></Label>
                            </StackLayout>

                            <!-- Product Info -->
                            <StackLayout col="1" verticalAlignment="center">
                                <Label [text]="item.name" class="h3 font-weight-bold m-b-5 text-black" textWrap="true"></Label>
                                <GridLayout columns="auto, auto" class="m-b-3">
                                    <Label col="0" [text]="'æ•¸é‡: ' + item.amount" class="body text-grey"></Label>
                                    <Label col="1" [text]="'$' + item.price" class="body text-grey m-l-15" *ngIf="item.price > 0"></Label>
                                </GridLayout>
                                <Label [text]="'åˆ°æœŸ: ' + item.expiryDate" class="body text-red font-weight-bold" *ngIf="item.expiryDate"></Label>
                                <Label [text]="item.shop" class="body text-blue" *ngIf="item.shop"></Label>
                            </StackLayout>
                            
                            <!-- Action Button -->
                            <StackLayout col="2" verticalAlignment="center" horizontalAlignment="right">
                                <Button text="ðŸ—‘ï¸" (tap)="onDelete(item)" class="btn btn-sm btn-flat text-red" width="40" height="40"></Button>
                            </StackLayout>
                        </GridLayout>
                    </ng-template>
                </ListView>
            </GridLayout>
        </TabViewItem>
        
        <TabViewItem title="æ–°å¢žé£Ÿå“">
            <ScrollView class="bg-white">
                <StackLayout class="p-20">
                    <Label text="æ–°å¢žé£Ÿå“" class="h2 font-weight-bold m-b-25 text-center text-black"></Label>
                    
                    <!-- Name Field -->
                    <StackLayout class="m-b-20">
                        <Label text="åç¨± (Name)" class="label font-weight-bold m-b-8"></Label>
                        <TextField [(ngModel)]="newName" hint="ä¾‹å¦‚: æ³¡éºµ" class="input p-15 bg-grey-light" style="border-radius: 8;"></TextField>
                    </StackLayout>
                    
                    <!-- Amount and Price Row -->
                    <GridLayout columns="*, 15, *" class="m-b-20">
                        <StackLayout col="0">
                            <Label text="æ•¸é‡ (Amount)" class="label font-weight-bold m-b-8"></Label>
                            <TextField [(ngModel)]="newAmount" keyboardType="number" hint="1" class="input p-15 bg-grey-light" style="border-radius: 8;"></TextField>
                        </StackLayout>
                        
                        <StackLayout col="2">
                            <Label text="åƒ¹æ ¼ (Price)" class="label font-weight-bold m-b-8"></Label>
                            <TextField [(ngModel)]="newPrice" keyboardType="number" hint="NT$0" class="input p-15 bg-grey-light" style="border-radius: 8;"></TextField>
                        </StackLayout>
                    </GridLayout>
                    
                    <!-- Expiry Date -->
                    <StackLayout class="m-b-20">
                        <Label text="åˆ°æœŸæ—¥æœŸ (To Date)" class="label font-weight-bold m-b-8"></Label>
                        <GridLayout columns="*, 10, *, 10, *">
                            <TextField col="0" [(ngModel)]="newDateYear" keyboardType="number" hint="2026" class="input p-15 bg-grey-light text-center" style="border-radius: 8;"></TextField>
                            <TextField col="2" [(ngModel)]="newDateMonth" keyboardType="number" hint="1" class="input p-15 bg-grey-light text-center" style="border-radius: 8;"></TextField>
                            <TextField col="4" [(ngModel)]="newDateDay" keyboardType="number" hint="12" class="input p-15 bg-grey-light text-center" style="border-radius: 8;"></TextField>
                        </GridLayout>
                    </StackLayout>
                    
                    <!-- Shop Field -->
                    <StackLayout class="m-b-20">
                        <Label text="å•†åº— (Shop)" class="label font-weight-bold m-b-8"></Label>
                        <TextField [(ngModel)]="newShop" hint="ä¾‹å¦‚: å…¨è¯" class="input p-15 bg-grey-light" style="border-radius: 8;"></TextField>
                    </StackLayout>
                    
                    <!-- Photo Field -->
                    <StackLayout class="m-b-20">
                        <Label text="åœ–ç‰‡ (Photo)" class="label font-weight-bold m-b-8"></Label>
                        <Button text="ðŸ“· é¸æ“‡åœ–ç‰‡" (tap)="onSelectPhoto()" class="btn btn-outline p-15" style="border-radius: 8;"></Button>
                    </StackLayout>
                    
                    <!-- Hash Field -->
                    <StackLayout class="m-b-30">
                        <Label text="Hash" class="label font-weight-bold m-b-8"></Label>
                        <TextField [(ngModel)]="newHash" hint="é›œæ¹Šå€¼" class="input p-15 bg-grey-light" style="border-radius: 8;"></TextField>
                    </StackLayout>
                    
                    <!-- Add Button -->
                    <Button text="æ–°å¢ž é£Ÿå“" (tap)="onAdd()" class="btn btn-primary font-weight-bold p-15 text-white" style="border-radius: 25; background-color: #00E676;"></Button>
                </StackLayout>
            </ScrollView>
        </TabViewItem>
    </TabView>
</GridLayout>
