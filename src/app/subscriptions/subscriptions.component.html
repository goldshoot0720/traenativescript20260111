<ActionBar class="action-bar">
  <NavigationButton visibility="hidden"></NavigationButton>
  <GridLayout columns="50, *">
    <Label class="action-bar-title" text="è¨‚é–±ç®¡ç†" colSpan="2"></Label>
    <Label class="fas" text="&#xf0c9;" (tap)="onDrawerButtonTap()"></Label>
  </GridLayout>
</ActionBar>

<GridLayout columns="*, *" class="page__content bg-purple" rows="*">
    <!-- Left Column: Subscription List -->
    <StackLayout col="0" class="p-20">
        <GridLayout columns="auto, *" class="m-b-20">
            <Label text="è¨‚é–±æ¸…å–®" class="h2 font-weight-bold text-white"></Label>
            <Button text="ðŸ”„ åŒæ­¥" (tap)="onSync()" class="btn btn-sm bg-purple-light text-white m-l-10" col="1" horizontalAlignment="left" height="30" padding="0 10"></Button>
        </GridLayout>

        <ScrollView>
            <StackLayout>
                <GridLayout *ngFor="let item of subscriptions" rows="auto, auto, auto, auto" columns="*, auto" class="card bg-purple-light p-15 m-b-10">
                    <Label [text]="item.name" class="h3 font-weight-bold text-white" col="0" row="0"></Label>
                    <Label text="&#xf2ed;" class="fas text-white-50" col="1" row="0" (tap)="onDelete(item)" horizontalAlignment="right"></Label>
                    
                    <Label [text]="'åƒ¹æ ¼: $' + item.price + ' | å¸³è™Ÿ: ' + item.account" class="body text-white-50" col="0" row="1" colSpan="2"></Label>
                    <Label [text]="item.site" class="caption text-blue" col="0" row="2" colSpan="2"></Label>
                    <Label [text]="'ä¸‹æ¬¡æ‰£æ¬¾: ' + item.nextDate" class="caption text-white-50" col="0" row="3" colSpan="2"></Label>
                </GridLayout>
            </StackLayout>
        </ScrollView>
    </StackLayout>

    <!-- Right Column: Add Subscription Form -->
    <StackLayout col="1" class="p-20 bg-purple-light m-20 card">
        <Label text="æ–°å¢žè¨‚é–±" class="h2 font-weight-bold text-white m-b-20"></Label>

        <Label text="åç¨± (Name)" class="label text-white m-b-5"></Label>
        <TextField [(ngModel)]="newSubName" class="input p-10 m-b-15 bg-white-trans"></TextField>

        <Label text="åƒ¹æ ¼ (Price)" class="label text-white m-b-5"></Label>
        <GridLayout columns="*, auto" class="m-b-15">
             <TextField [(ngModel)]="newSubPrice" hint="NT$0" class="input p-10 bg-white-trans" col="0"></TextField>
             <!-- Placeholder for currency dropdown arrow -->
             <Label text="â–¼" class="text-white p-10" col="1"></Label>
        </GridLayout>

        <Label text="ä¸‹æ¬¡æ‰£æ¬¾æ—¥ (Next Date)" class="label text-white m-b-5"></Label>
        <GridLayout columns="*,*,*" class="m-b-15">
            <TextField [(ngModel)]="newSubDateYear" hint="2026" class="input p-10 bg-white-trans m-r-5" col="0"></TextField>
            <TextField [(ngModel)]="newSubDateMonth" hint="1æœˆ" class="input p-10 bg-white-trans m-r-5" col="1"></TextField>
            <TextField [(ngModel)]="newSubDateDay" hint="11" class="input p-10 bg-white-trans" col="2"></TextField>
        </GridLayout>

        <Label text="ç¶²ç«™ (Site)" class="label text-white m-b-5"></Label>
        <TextField [(ngModel)]="newSubSite" class="input p-10 m-b-15 bg-white-trans"></TextField>

        <Label text="å¸³è™Ÿ (Account)" class="label text-white m-b-5"></Label>
        <TextField [(ngModel)]="newSubAccount" class="input p-10 m-b-15 bg-white-trans"></TextField>

        <Label text="å‚™è¨» (Note)" class="label text-white m-b-5"></Label>
        <TextView [(ngModel)]="newSubNote" class="input p-10 m-b-20 bg-white-trans" height="100"></TextView>

        <Button text="åŠ å…¥æ¸…å–®" (tap)="onAdd()" class="btn btn-primary bg-green text-black font-weight-bold"></Button>
        <Label text="å¾ž Contentful è¼‰å…¥ 24 ç­†è¨‚é–±" class="caption text-white-50 text-center m-t-10"></Label>
    </StackLayout>
</GridLayout>
