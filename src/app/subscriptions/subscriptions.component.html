<GridLayout rows="*" height="100%" width="100%" class="bg-purple">
    <GridLayout columns="*, auto" height="100%" width="100%">
        <!-- Left Panel - Subscription List -->
        <GridLayout col="0" rows="auto, *" class="p-15">
            <!-- Header with Title and Sync Button -->
            <GridLayout row="0" columns="*, auto" class="m-b-15">
                <StackLayout col="0" orientation="horizontal">
                    <Label text="è¨‚é–±æ¸…å–®" class="h1 text-white font-weight-bold m-r-10"></Label>
                    <Label text="â— åŒæ­¥" class="body text-green font-weight-bold"></Label>
                </StackLayout>
                <Button col="1" text="ðŸ”„ åŒæ­¥" (tap)="onSync()" class="btn btn-sm btn-outline text-white" height="40"></Button>
            </GridLayout>
            
            <!-- Subscription List -->
            <ListView row="1" [items]="subscriptions" class="list-group" separatorColor="transparent">
                <ng-template let-item="item">
                    <GridLayout columns="*, auto" class="list-group-item m-b-15 p-20" style="background: rgba(102, 126, 234, 0.8); border-radius: 12;">
                        <!-- Subscription Info -->
                        <StackLayout col="0">
                            <Label [text]="item.name" class="h2 font-weight-bold m-b-8 text-white" textWrap="true"></Label>
                            <Label [text]="'åƒ¹æ ¼: $' + item.price + ' | å¸³è™Ÿ: ' + item.account" class="body text-white" textWrap="true" *ngIf="item.price > 0"></Label>
                            <Label [text]="'åƒ¹æ ¼: $0 | å¸³è™Ÿ: ' + item.account" class="body text-white" textWrap="true" *ngIf="item.price === 0"></Label>
                            <Label [text]="item.site" class="caption text-white" textWrap="true" *ngIf="item.site"></Label>
                            <Label [text]="'ä¸‹æ¬¡ä»˜æ¬¾: ' + item.nextDate" class="caption text-white font-weight-bold" textWrap="true"></Label>
                        </StackLayout>
                        
                        <!-- Action Button -->
                        <StackLayout col="1" verticalAlignment="center" horizontalAlignment="right">
                            <Button text="ðŸ—‘ï¸" (tap)="onDelete(item)" class="btn btn-sm" style="background: rgba(255, 255, 255, 0.2); color: white; border-radius: 20;" width="40" height="40"></Button>
                        </StackLayout>
                    </GridLayout>
                </ng-template>
            </ListView>
        </GridLayout>

        <!-- Right Panel - Add New Subscription Form -->
        <GridLayout col="1" rows="auto, *" width="350" class="p-20" style="background: rgba(255, 255, 255, 0.1);">
            <!-- Form Header -->
            <Label row="0" text="æ–°å¢žè¨‚é–±" class="h1 font-weight-bold m-b-25 text-white text-center"></Label>
            
            <!-- Form Content -->
            <ScrollView row="1">
                <StackLayout>
                    <!-- Name Field -->
                    <StackLayout class="m-b-20">
                        <Label text="åç¨± (Name)" class="label font-weight-bold m-b-8 text-white"></Label>
                        <TextField [(ngModel)]="newSubName" hint="ä¾‹å¦‚: Netflix" class="input p-15" style="background: rgba(255, 255, 255, 0.9); border-radius: 8; color: #333;"></TextField>
                    </StackLayout>
                    
                    <!-- Price Field -->
                    <StackLayout class="m-b-20">
                        <Label text="åƒ¹æ ¼ (Price)" class="label font-weight-bold m-b-8 text-white"></Label>
                        <GridLayout columns="*, auto">
                            <TextField col="0" [(ngModel)]="newSubPrice" keyboardType="number" hint="0" class="input p-15" style="background: rgba(255, 255, 255, 0.9); border-radius: 8; color: #333;"></TextField>
                            <Label col="1" text="NT$" class="body text-white m-l-10" verticalAlignment="center"></Label>
                        </GridLayout>
                    </StackLayout>
                    
                    <!-- Next Date -->
                    <StackLayout class="m-b-20">
                        <Label text="ä¸‹æ¬¡ä»˜æ¬¾æ—¥æœŸ (Next Date)" class="label font-weight-bold m-b-8 text-white"></Label>
                        <GridLayout columns="*, 10, *, 10, *">
                            <TextField col="0" [(ngModel)]="newSubDateYear" keyboardType="number" hint="2026" class="input p-15 text-center" style="background: rgba(255, 255, 255, 0.9); border-radius: 8; color: #333;"></TextField>
                            <TextField col="2" [(ngModel)]="newSubDateMonth" keyboardType="number" hint="1" class="input p-15 text-center" style="background: rgba(255, 255, 255, 0.9); border-radius: 8; color: #333;"></TextField>
                            <TextField col="4" [(ngModel)]="newSubDateDay" keyboardType="number" hint="12" class="input p-15 text-center" style="background: rgba(255, 255, 255, 0.9); border-radius: 8; color: #333;"></TextField>
                        </GridLayout>
                    </StackLayout>
                    
                    <!-- Site Field -->
                    <StackLayout class="m-b-20">
                        <Label text="ç¶²ç«™ (Site)" class="label font-weight-bold m-b-8 text-white"></Label>
                        <TextField [(ngModel)]="newSubSite" hint="https://..." class="input p-15" style="background: rgba(255, 255, 255, 0.9); border-radius: 8; color: #333;"></TextField>
                    </StackLayout>
                    
                    <!-- Account Field -->
                    <StackLayout class="m-b-20">
                        <Label text="å¸³è™Ÿ (Account)" class="label font-weight-bold m-b-8 text-white"></Label>
                        <TextField [(ngModel)]="newSubAccount" hint="å¸³è™Ÿè³‡è¨Š" class="input p-15" style="background: rgba(255, 255, 255, 0.9); border-radius: 8; color: #333;"></TextField>
                    </StackLayout>
                    
                    <!-- Note Field -->
                    <StackLayout class="m-b-30">
                        <Label text="å‚™è¨» (Note)" class="label font-weight-bold m-b-8 text-white"></Label>
                        <TextView [(ngModel)]="newSubNote" hint="å‚™è¨»..." class="p-15" height="100" style="background: rgba(255, 255, 255, 0.9); border-radius: 8; color: #333;"></TextView>
                    </StackLayout>
                    
                    <!-- Add Button -->
                    <Button text="æ–°å¢ž è¨‚é–±" (tap)="onAdd()" class="font-weight-bold p-15 text-white" style="background: #00E676; border-radius: 25; font-size: 18;"></Button>
                    
                    <!-- Contentful Notice -->
                    <Label text="ðŸ”— Contentful æ–°å¢ž 24 ç­†è¨‚é–±" class="caption text-center text-white m-t-20" style="background: rgba(255, 255, 255, 0.1); padding: 10; border-radius: 15;"></Label>
                </StackLayout>
            </ScrollView>
        </GridLayout>
    </GridLayout>
</GridLayout>
