<GridLayout rows="*" height="100%" width="100%" class="bg-purple">
    <TabView height="100%" width="100%" selectedIndex="0" androidTabsPosition="bottom" selectedTabTextColor="#00E676" tabBackgroundColor="#6200EE" selectedTabBackgroundColor="#6200EE" tabTextColor="#ffffff">
        <TabViewItem title="è¨‚é–±æ¸…å–®">
            <GridLayout rows="auto, *" height="100%" width="100%">
                <!-- Header -->
                <GridLayout row="0" columns="*, auto" class="p-15 m-b-10 bg-primary">
                    <Label col="0" text="è¨‚é–±ç®¡ç†" class="h1 text-white font-weight-bold"></Label>
                    <Button col="1" text="ðŸ”„ åŒæ­¥" (tap)="onSync()" class="btn btn-sm btn-outline text-white" height="40"></Button>
                </GridLayout>
                
                <!-- Subscription List -->
                <ListView row="1" [items]="subscriptions" class="list-group" separatorColor="transparent">
                    <ng-template let-item="item">
                        <GridLayout columns="*, auto" class="list-group-item bg-white m-x-15 m-b-12 p-15" style="border-radius: 12;">
                            <!-- Subscription Info -->
                            <StackLayout col="0">
                                <Label [text]="item.name" class="h3 font-weight-bold m-b-8 text-black" textWrap="true"></Label>
                                <Label [text]="'åƒ¹æ ¼: $' + item.price + ' | å¸³è™Ÿ: ' + item.account" class="body text-grey" textWrap="true" *ngIf="item.price > 0"></Label>
                                <Label [text]="'ä¸‹æ¬¡ä»˜æ¬¾æ—¥æœŸ: ' + item.nextDate" class="body text-red font-weight-bold" textWrap="true"></Label>
                                <Label [text]="item.site" class="body text-blue" textWrap="true" *ngIf="item.site"></Label>
                                <Label [text]="item.note" class="body text-grey" textWrap="true" *ngIf="item.note"></Label>
                            </StackLayout>
                            
                            <!-- Price and Action -->
                            <StackLayout col="1" verticalAlignment="center" horizontalAlignment="right" class="m-l-10">
                                <Label [text]="'$' + item.price" class="h3 font-weight-bold text-right m-b-8 text-red" *ngIf="item.price > 0"></Label>
                                <Label text="å…è²»" class="h3 font-weight-bold text-right m-b-8 text-green" *ngIf="item.price === 0"></Label>
                                <Button text="ðŸ—‘ï¸" (tap)="onDelete(item)" class="btn btn-sm btn-flat text-red" width="40" height="40"></Button>
                            </StackLayout>
                        </GridLayout>
                    </ng-template>
                </ListView>
            </GridLayout>
        </TabViewItem>
        
        <TabViewItem title="æ–°å¢žè¨‚é–±">
            <ScrollView class="bg-white">
                <StackLayout class="p-20">
                    <Label text="æ–°å¢žè¨‚é–±" class="h2 font-weight-bold m-b-25 text-center text-black"></Label>
                    
                    <!-- Name Field -->
                    <StackLayout class="m-b-20">
                        <Label text="åç¨± (Name)" class="label font-weight-bold m-b-8"></Label>
                        <TextField [(ngModel)]="newSubName" hint="ä¾‹å¦‚: Netflix" class="input p-15 bg-grey-light" style="border-radius: 8;"></TextField>
                    </StackLayout>
                    
                    <!-- Price Field -->
                    <StackLayout class="m-b-20">
                        <Label text="åƒ¹æ ¼ (Price)" class="label font-weight-bold m-b-8"></Label>
                        <TextField [(ngModel)]="newSubPrice" keyboardType="number" hint="NT$0" class="input p-15 bg-grey-light" style="border-radius: 8;"></TextField>
                    </StackLayout>
                    
                    <!-- Next Date -->
                    <StackLayout class="m-b-20">
                        <Label text="ä¸‹æ¬¡ä»˜æ¬¾æ—¥æœŸ (Next Date)" class="label font-weight-bold m-b-8"></Label>
                        <GridLayout columns="*, 10, *, 10, *">
                            <TextField col="0" [(ngModel)]="newSubDateYear" keyboardType="number" hint="2026" class="input p-15 bg-grey-light text-center" style="border-radius: 8;"></TextField>
                            <TextField col="2" [(ngModel)]="newSubDateMonth" keyboardType="number" hint="1" class="input p-15 bg-grey-light text-center" style="border-radius: 8;"></TextField>
                            <TextField col="4" [(ngModel)]="newSubDateDay" keyboardType="number" hint="12" class="input p-15 bg-grey-light text-center" style="border-radius: 8;"></TextField>
                        </GridLayout>
                    </StackLayout>
                    
                    <!-- Site Field -->
                    <StackLayout class="m-b-20">
                        <Label text="ç¶²ç«™ (Site)" class="label font-weight-bold m-b-8"></Label>
                        <TextField [(ngModel)]="newSubSite" hint="https://..." class="input p-15 bg-grey-light" style="border-radius: 8;"></TextField>
                    </StackLayout>
                    
                    <!-- Account Field -->
                    <StackLayout class="m-b-20">
                        <Label text="å¸³è™Ÿ (Account)" class="label font-weight-bold m-b-8"></Label>
                        <TextField [(ngModel)]="newSubAccount" hint="å¸³è™Ÿè³‡è¨Š" class="input p-15 bg-grey-light" style="border-radius: 8;"></TextField>
                    </StackLayout>
                    
                    <!-- Note Field -->
                    <StackLayout class="m-b-30">
                        <Label text="å‚™è¨» (Note)" class="label font-weight-bold m-b-8"></Label>
                        <TextField [(ngModel)]="newSubNote" hint="å‚™è¨»..." class="input p-15 bg-grey-light" style="border-radius: 8;"></TextField>
                    </StackLayout>
                    
                    <!-- Add Button -->
                    <Button text="æ–°å¢ž è¨‚é–±" (tap)="onAdd()" class="btn btn-primary font-weight-bold p-15 text-white" style="border-radius: 25; background-color: #00E676;"></Button>
                </StackLayout>
            </ScrollView>
        </TabViewItem>
    </TabView>
</GridLayout>
